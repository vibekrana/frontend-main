{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import Login from'./components/Login';import ContentCreation from'./components/ContentCreation';import Register from'./components/Register';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[user,setUser]=useState(null);// Check if the user is already logged in (e.g., token exists in localStorage)\nuseEffect(()=>{const token=localStorage.getItem('token');if(token){// You could verify the token with the backend here, but for now, assume it's valid\nsetUser({username:'admin'});// Replace with actual user data from backend if needed\n}},[]);const handleLogin=userData=>{setUser(userData);};const handleLogout=()=>{localStorage.removeItem('token');setUser(null);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/content\"}):/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/content\"}):/*#__PURE__*/_jsx(Register,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/content\",element:user?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:10,right:10},children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{padding:'0.5rem 1rem',backgroundColor:'#facc15',color:'#1f2937',border:'none',borderRadius:'0.5rem',cursor:'pointer',fontWeight:'600'},children:\"Logout\"})}),/*#__PURE__*/_jsx(ContentCreation,{user:user})]}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Navigate","Login","ContentCreation","Register","jsx","_jsx","jsxs","_jsxs","App","user","setUser","token","localStorage","getItem","username","handleLogin","userData","handleLogout","removeItem","children","path","element","to","onLogin","style","position","top","right","onClick","padding","backgroundColor","color","border","borderRadius","cursor","fontWeight"],"sources":["C:/Users/Vibek Rana/Downloads/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\r\nimport Login from './components/Login';\r\nimport ContentCreation from './components/ContentCreation';\r\nimport Register from './components/Register';\r\n\r\nconst App = () => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  // Check if the user is already logged in (e.g., token exists in localStorage)\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      // You could verify the token with the backend here, but for now, assume it's valid\r\n      setUser({ username: 'admin' }); // Replace with actual user data from backend if needed\r\n    }\r\n  }, []);\r\n\r\n  const handleLogin = (userData) => {\r\n    setUser(userData);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    setUser(null);\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route\r\n          path=\"/login\"\r\n          element={\r\n            user ? (\r\n              <Navigate to=\"/content\" />\r\n            ) : (\r\n              <Login onLogin={handleLogin} />\r\n            )\r\n          }\r\n        />\r\n          <Route\r\n            path=\"/register\"\r\n            element={user ? <Navigate to=\"/content\" /> : <Register onLogin={handleLogin} />}\r\n          />\r\n\r\n        <Route\r\n          path=\"/content\"\r\n          element={\r\n            user ? (\r\n              <div>\r\n                <div style={{ position: 'absolute', top: 10, right: 10 }}>\r\n                  <button\r\n                    onClick={handleLogout}\r\n                    style={{\r\n                      padding: '0.5rem 1rem',\r\n                      backgroundColor: '#facc15',\r\n                      color: '#1f2937',\r\n                      border: 'none',\r\n                      borderRadius: '0.5rem',\r\n                      cursor: 'pointer',\r\n                      fontWeight: '600',\r\n                    }}\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                </div>\r\n                <ContentCreation user={user} />\r\n              </div>\r\n            ) : (\r\n              <Navigate to=\"/login\" />\r\n            )\r\n          }\r\n        />\r\n        <Route path=\"*\" element={<Navigate to=\"/login\" />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,eAAe,KAAM,8BAA8B,CAC1D,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAEtC;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CACT;AACAD,OAAO,CAAC,CAAEI,QAAQ,CAAE,OAAQ,CAAC,CAAC,CAAE;AAClC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,WAAW,CAAIC,QAAQ,EAAK,CAChCN,OAAO,CAACM,QAAQ,CAAC,CACnB,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC,CAChCR,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,mBACEL,IAAA,CAACR,MAAM,EAAAsB,QAAA,cACLZ,KAAA,CAACR,MAAM,EAAAoB,QAAA,eACLd,IAAA,CAACP,KAAK,EACJsB,IAAI,CAAC,QAAQ,CACbC,OAAO,CACLZ,IAAI,cACFJ,IAAA,CAACL,QAAQ,EAACsB,EAAE,CAAC,UAAU,CAAE,CAAC,cAE1BjB,IAAA,CAACJ,KAAK,EAACsB,OAAO,CAAER,WAAY,CAAE,CAEjC,CACF,CAAC,cACAV,IAAA,CAACP,KAAK,EACJsB,IAAI,CAAC,WAAW,CAChBC,OAAO,CAAEZ,IAAI,cAAGJ,IAAA,CAACL,QAAQ,EAACsB,EAAE,CAAC,UAAU,CAAE,CAAC,cAAGjB,IAAA,CAACF,QAAQ,EAACoB,OAAO,CAAER,WAAY,CAAE,CAAE,CACjF,CAAC,cAEJV,IAAA,CAACP,KAAK,EACJsB,IAAI,CAAC,UAAU,CACfC,OAAO,CACLZ,IAAI,cACFF,KAAA,QAAAY,QAAA,eACEd,IAAA,QAAKmB,KAAK,CAAE,CAAEC,QAAQ,CAAE,UAAU,CAAEC,GAAG,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAG,CAAE,CAAAR,QAAA,cACvDd,IAAA,WACEuB,OAAO,CAAEX,YAAa,CACtBO,KAAK,CAAE,CACLK,OAAO,CAAE,aAAa,CACtBC,eAAe,CAAE,SAAS,CAC1BC,KAAK,CAAE,SAAS,CAChBC,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,QAAQ,CACtBC,MAAM,CAAE,SAAS,CACjBC,UAAU,CAAE,KACd,CAAE,CAAAhB,QAAA,CACH,QAED,CAAQ,CAAC,CACN,CAAC,cACNd,IAAA,CAACH,eAAe,EAACO,IAAI,CAAEA,IAAK,CAAE,CAAC,EAC5B,CAAC,cAENJ,IAAA,CAACL,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAAE,CAE1B,CACF,CAAC,cACFjB,IAAA,CAACP,KAAK,EAACsB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEhB,IAAA,CAACL,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,EAC/C,CAAC,CACH,CAAC,CAEb,CAAC,CAED,cAAe,CAAAd,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}