{"ast":null,"code":"import React,{useEffect,useMemo,useState,useCallback}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import LinkedInConnect from\"./components/LinkedInConnect\";import InstagramConnect from\"./components/InstagramConnect\";import\"./components/Connect.css\";// Hardcoded endpoint for social status (same style as ContentCreation)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_SOCIAL_STATUS=\"http://13.233.45.167:5000/social/status\";export default function Connect(){var _status$linkedin$deta,_status$linkedin$deta2;const[status,setStatus]=useState({linkedin:{connected:false,detail:null},instagram:{connected:false,detail:null}});const[loading,setLoading]=useState(true);const[err,setErr]=useState(\"\");const[isDarkMode,setIsDarkMode]=useState(false);const token=localStorage.getItem(\"token\");const appUser=useMemo(()=>localStorage.getItem(\"username\")||localStorage.getItem(\"appUser\")||\"defaultUser\",[]);const navigate=useNavigate();// Check if user is properly logged in\nuseEffect(()=>{console.log(\"Token:\",token);console.log(\"App User:\",appUser);if(!token||token===\"null\"||token===\"undefined\"){console.log(\"No valid token found, redirecting to login\");navigate(\"/login\");return;}},[token,appUser,navigate]);// Fixed: Added appUser dependency\n// Load saved theme\nuseEffect(()=>{const saved=localStorage.getItem(\"theme\");if(saved===\"dark\")setIsDarkMode(true);},[]);const toggleTheme=()=>{const newMode=!isDarkMode;setIsDarkMode(newMode);localStorage.setItem(\"theme\",newMode?\"dark\":\"light\");};// Memoize fetchStatus to prevent unnecessary re-renders\nconst fetchStatus=useCallback(async()=>{try{setErr(\"\");setLoading(true);const currentToken=localStorage.getItem(\"token\");if(!currentToken||currentToken===\"null\"||currentToken===\"undefined\"){console.log(\"No valid token during fetch, redirecting to login\");navigate(\"/login\");return;}console.log(\"Fetching status with token:\",currentToken);const res=await axios.get(API_SOCIAL_STATUS,{headers:{Authorization:\"Bearer \".concat(currentToken)},params:{app_user:appUser}});console.log(\"API Response:\",res.data);// Debug response\nsetStatus({linkedin:res.data.linkedin||{connected:false,detail:null},instagram:res.data.instagram||{connected:false,detail:null}});}catch(e){var _e$response,_e$response2,_e$response2$data;console.error(\"Fetch status error:\",e);if(((_e$response=e.response)===null||_e$response===void 0?void 0:_e$response.status)===401){console.log(\"401 error - token expired or invalid, redirecting to login\");localStorage.removeItem(\"token\");localStorage.removeItem(\"username\");localStorage.removeItem(\"appUser\");navigate(\"/login\");return;}const errorMessage=(e===null||e===void 0?void 0:(_e$response2=e.response)===null||_e$response2===void 0?void 0:(_e$response2$data=_e$response2.data)===null||_e$response2$data===void 0?void 0:_e$response2$data.message)||\"Could not load connection status.\";setErr(errorMessage);setStatus({linkedin:{connected:false,detail:null},instagram:{connected:false,detail:null}});}finally{setLoading(false);console.log(\"Loading state set to false\");}},[appUser,navigate]);// Fixed: Removed unnecessary 'token' dependency\nuseEffect(()=>{if(!appUser){const u=new URLSearchParams(window.location.search).get(\"u\");if(u)localStorage.setItem(\"username\",u);}// Only fetch status if we have a valid token\nif(token&&token!==\"null\"&&token!==\"undefined\"){fetchStatus();}},[appUser,fetchStatus,token]);const goToContent=()=>{console.log(\"Button clicked - navigating to content creation\");const currentToken=localStorage.getItem(\"token\");console.log(\"Token check:\",!!currentToken);if(!currentToken||currentToken===\"null\"||currentToken===\"undefined\"){console.warn(\"No token found, redirecting to login\");navigate(\"/login\");return;}// Always allow navigation to content - no connection requirement\ntry{console.log(\"Navigating to /content\");navigate(\"/content\");console.log(\"Navigation called successfully\");}catch(error){console.error(\"Navigation error:\",error);setErr(\"Failed to navigate to content page.\");}};const handleLogout=()=>{console.log(\"Logging out...\");localStorage.removeItem(\"token\");localStorage.removeItem(\"username\");localStorage.removeItem(\"appUser\");navigate(\"/login\");};// Don't render anything if no token\nif(!token||token===\"null\"||token===\"undefined\"){return/*#__PURE__*/_jsx(\"div\",{children:\"Redirecting to login...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container \".concat(isDarkMode?\"dark\":\"light\"),children:[/*#__PURE__*/_jsx(\"button\",{className:\"theme-toggle top-left\",onClick:toggleTheme,children:isDarkMode?\"‚òÄÔ∏è Light\":\"üåô Dark\"}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-button top-right\",onClick:handleLogout,children:\"\\uD83D\\uDEAA Logout\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"extra-icons\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon1\",children:\"\\uD83D\\uDE80\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon2\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon3\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon4\",children:\"\\uD83D\\uDCA1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-box\",style:{maxWidth:720},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo1922.png\",alt:\"Logo\",className:\"login-logo\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"login-header\",children:\"Connect Your Social Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"login-subheader\",children:\"Link your profiles for seamless auto-posting\"}),err&&/*#__PURE__*/_jsxs(\"div\",{className:\"response-error\",style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"div\",{className:\"response-icon\",children:\"!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"response-content\",children:/*#__PURE__*/_jsx(\"p\",{children:err})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:16,marginTop:16},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"platform-card \".concat(status.linkedin.connected?\"selected\":\"\"),style:{padding:16},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"platform-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"platform-name\",children:\"LinkedIn\"}),/*#__PURE__*/_jsx(\"p\",{style:{opacity:0.9,marginTop:6,fontSize:14},children:status.linkedin.connected?\"Connected (\".concat((_status$linkedin$deta=status.linkedin.detail)!==null&&_status$linkedin$deta!==void 0&&(_status$linkedin$deta2=_status$linkedin$deta.preferred_posting_urn)!==null&&_status$linkedin$deta2!==void 0&&_status$linkedin$deta2.includes(\"organization\")?\"Organization\":\"Personal\",\")\"):\"Not connected\"})]}),/*#__PURE__*/_jsx(LinkedInConnect,{appUser:appUser,onConnected:fetchStatus,connected:status.linkedin.connected})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"platform-card \".concat(status.instagram.connected?\"selected\":\"\"),style:{padding:16},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"platform-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"platform-name\",children:\"Instagram\"}),/*#__PURE__*/_jsx(\"p\",{style:{opacity:0.9,marginTop:6,fontSize:14},children:status.instagram.connected?\"Connected (Business/Creator)\":\"Not connected\"})]}),/*#__PURE__*/_jsx(InstagramConnect,{appUser:appUser,onConnected:fetchStatus,connected:status.instagram.connected})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",style:{marginTop:24},children:[/*#__PURE__*/_jsx(\"button\",{className:\"post-button\",onClick:goToContent,disabled:loading// Only disabled during loading\n,title:\"Continue to content\",children:\"Continue to Content\"}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-button\",type:\"button\",onClick:fetchStatus,children:\"Refresh Status\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:10,fontSize:12,opacity:0.8},children:\"Tip: If your LinkedIn has a Page where you're an admin, we'll auto-select the org URN; else we use your personal URN.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20,fontSize:10,opacity:0.5},children:[\"Debug: Token exists: \",!!token,\", AppUser: \",appUser,\", LinkedIn: \",status.linkedin.connected?\"Connected\":\"Not connected\"]})]})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","useCallback","useNavigate","axios","LinkedInConnect","InstagramConnect","jsx","_jsx","jsxs","_jsxs","API_SOCIAL_STATUS","Connect","_status$linkedin$deta","_status$linkedin$deta2","status","setStatus","linkedin","connected","detail","instagram","loading","setLoading","err","setErr","isDarkMode","setIsDarkMode","token","localStorage","getItem","appUser","navigate","console","log","saved","toggleTheme","newMode","setItem","fetchStatus","currentToken","res","get","headers","Authorization","concat","params","app_user","data","e","_e$response","_e$response2","_e$response2$data","error","response","removeItem","errorMessage","message","u","URLSearchParams","window","location","search","goToContent","warn","handleLogout","children","className","onClick","style","maxWidth","src","alt","marginTop","display","gridTemplateColumns","gap","padding","opacity","fontSize","preferred_posting_urn","includes","onConnected","disabled","title","type"],"sources":["C:/Users/Vibek Rana/Pictures/frontend-main/src/Connect.js"],"sourcesContent":["import React, { useEffect, useMemo, useState, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport LinkedInConnect from \"./components/LinkedInConnect\";\r\nimport InstagramConnect from \"./components/InstagramConnect\";\r\nimport \"./components/Connect.css\";\r\n\r\n// Hardcoded endpoint for social status (same style as ContentCreation)\r\nconst API_SOCIAL_STATUS = \"http://13.233.45.167:5000/social/status\";\r\n\r\nexport default function Connect() {\r\n  const [status, setStatus] = useState({\r\n    linkedin: { connected: false, detail: null },\r\n    instagram: { connected: false, detail: null },\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState(\"\");\r\n  const [isDarkMode, setIsDarkMode] = useState(false);\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n  const appUser = useMemo(() => localStorage.getItem(\"username\") || localStorage.getItem(\"appUser\") || \"defaultUser\", []);\r\n  const navigate = useNavigate();\r\n\r\n  // Check if user is properly logged in\r\n  useEffect(() => {\r\n    console.log(\"Token:\", token);\r\n    console.log(\"App User:\", appUser);\r\n    \r\n    if (!token || token === \"null\" || token === \"undefined\") {\r\n      console.log(\"No valid token found, redirecting to login\");\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n  }, [token, appUser, navigate]); // Fixed: Added appUser dependency\r\n\r\n  // Load saved theme\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"theme\");\r\n    if (saved === \"dark\") setIsDarkMode(true);\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newMode = !isDarkMode;\r\n    setIsDarkMode(newMode);\r\n    localStorage.setItem(\"theme\", newMode ? \"dark\" : \"light\");\r\n  };\r\n\r\n  // Memoize fetchStatus to prevent unnecessary re-renders\r\n  const fetchStatus = useCallback(async () => {\r\n    try {\r\n      setErr(\"\");\r\n      setLoading(true);\r\n      \r\n      const currentToken = localStorage.getItem(\"token\");\r\n      if (!currentToken || currentToken === \"null\" || currentToken === \"undefined\") {\r\n        console.log(\"No valid token during fetch, redirecting to login\");\r\n        navigate(\"/login\");\r\n        return;\r\n      }\r\n      \r\n      console.log(\"Fetching status with token:\", currentToken);\r\n      const res = await axios.get(API_SOCIAL_STATUS, {\r\n        headers: { Authorization: `Bearer ${currentToken}` },\r\n        params: { app_user: appUser },\r\n      });\r\n      console.log(\"API Response:\", res.data); // Debug response\r\n      setStatus({\r\n        linkedin: res.data.linkedin || { connected: false, detail: null },\r\n        instagram: res.data.instagram || { connected: false, detail: null },\r\n      });\r\n    } catch (e) {\r\n      console.error(\"Fetch status error:\", e);\r\n      \r\n      if (e.response?.status === 401) {\r\n        console.log(\"401 error - token expired or invalid, redirecting to login\");\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"username\");\r\n        localStorage.removeItem(\"appUser\");\r\n        navigate(\"/login\");\r\n        return;\r\n      }\r\n      \r\n      const errorMessage = e?.response?.data?.message || \"Could not load connection status.\";\r\n      setErr(errorMessage);\r\n      setStatus({\r\n        linkedin: { connected: false, detail: null },\r\n        instagram: { connected: false, detail: null },\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n      console.log(\"Loading state set to false\");\r\n    }\r\n  }, [appUser, navigate]); // Fixed: Removed unnecessary 'token' dependency\r\n\r\n  useEffect(() => {\r\n    if (!appUser) {\r\n      const u = new URLSearchParams(window.location.search).get(\"u\");\r\n      if (u) localStorage.setItem(\"username\", u);\r\n    }\r\n    \r\n    // Only fetch status if we have a valid token\r\n    if (token && token !== \"null\" && token !== \"undefined\") {\r\n      fetchStatus();\r\n    }\r\n  }, [appUser, fetchStatus, token]);\r\n\r\n  const goToContent = () => {\r\n    console.log(\"Button clicked - navigating to content creation\");\r\n    \r\n    const currentToken = localStorage.getItem(\"token\");\r\n    console.log(\"Token check:\", !!currentToken);\r\n    \r\n    if (!currentToken || currentToken === \"null\" || currentToken === \"undefined\") {\r\n      console.warn(\"No token found, redirecting to login\");\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n    \r\n    // Always allow navigation to content - no connection requirement\r\n    try {\r\n      console.log(\"Navigating to /content\");\r\n      navigate(\"/content\");\r\n      console.log(\"Navigation called successfully\");\r\n    } catch (error) {\r\n      console.error(\"Navigation error:\", error);\r\n      setErr(\"Failed to navigate to content page.\");\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    console.log(\"Logging out...\");\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"username\");\r\n    localStorage.removeItem(\"appUser\");\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  // Don't render anything if no token\r\n  if (!token || token === \"null\" || token === \"undefined\") {\r\n    return <div>Redirecting to login...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className={`login-container ${isDarkMode ? \"dark\" : \"light\"}`}>\r\n      {/* Theme Toggle */}\r\n      <button className=\"theme-toggle top-left\" onClick={toggleTheme}>\r\n        {isDarkMode ? \"‚òÄÔ∏è Light\" : \"üåô Dark\"}\r\n      </button>\r\n\r\n      {/* Logout Button */}\r\n      <button className=\"logout-button top-right\" onClick={handleLogout}>\r\n        üö™ Logout\r\n      </button>\r\n\r\n      {/* Floating Icons */}\r\n      <div className=\"extra-icons\">\r\n        <span className=\"icon1\">üöÄ</span>\r\n        <span className=\"icon2\">ü§ñ</span>\r\n        <span className=\"icon3\">üìä</span>\r\n        <span className=\"icon4\">üí°</span>\r\n      </div>\r\n\r\n      <div className=\"login-box\" style={{ maxWidth: 720 }}>\r\n        <img src=\"/logo1922.png\" alt=\"Logo\" className=\"login-logo\" />\r\n        <h1 className=\"login-header\">Connect Your Social Accounts</h1>\r\n        <p className=\"login-subheader\">Link your profiles for seamless auto-posting</p>\r\n\r\n        {err && (\r\n          <div className=\"response-error\" style={{ marginTop: 10 }}>\r\n            <div className=\"response-icon\">!</div>\r\n            <div className=\"response-content\">\r\n              <p>{err}</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div\r\n          style={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"1fr 1fr\",\r\n            gap: 16,\r\n            marginTop: 16,\r\n          }}\r\n        >\r\n          <div\r\n            className={`platform-card ${status.linkedin.connected ? \"selected\" : \"\"}`}\r\n            style={{ padding: 16 }}\r\n          >\r\n            <div className=\"platform-content\">\r\n              <span className=\"platform-name\">LinkedIn</span>\r\n              <p style={{ opacity: 0.9, marginTop: 6, fontSize: 14 }}>\r\n                {status.linkedin.connected\r\n                  ? `Connected (${\r\n                      status.linkedin.detail?.preferred_posting_urn?.includes(\"organization\")\r\n                        ? \"Organization\"\r\n                        : \"Personal\"\r\n                    })`\r\n                  : \"Not connected\"}\r\n              </p>\r\n            </div>\r\n            <LinkedInConnect\r\n              appUser={appUser}\r\n              onConnected={fetchStatus}\r\n              connected={status.linkedin.connected}\r\n            />\r\n          </div>\r\n\r\n          <div\r\n            className={`platform-card ${status.instagram.connected ? \"selected\" : \"\"}`}\r\n            style={{ padding: 16 }}\r\n          >\r\n            <div className=\"platform-content\">\r\n              <span className=\"platform-name\">Instagram</span>\r\n              <p style={{ opacity: 0.9, marginTop: 6, fontSize: 14 }}>\r\n                {status.instagram.connected\r\n                  ? \"Connected (Business/Creator)\"\r\n                  : \"Not connected\"}\r\n              </p>\r\n            </div>\r\n            <InstagramConnect\r\n              appUser={appUser}\r\n              onConnected={fetchStatus}\r\n              connected={status.instagram.connected}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-actions\" style={{ marginTop: 24 }}>\r\n          <button\r\n            className=\"post-button\"\r\n            onClick={goToContent}\r\n            disabled={loading}  // Only disabled during loading\r\n            title=\"Continue to content\"\r\n          >\r\n            Continue to Content\r\n          </button>\r\n          <button className=\"reset-button\" type=\"button\" onClick={fetchStatus}>\r\n            Refresh Status\r\n          </button>\r\n        </div>\r\n\r\n        <p style={{ marginTop: 10, fontSize: 12, opacity: 0.8 }}>\r\n          Tip: If your LinkedIn has a Page where you're an admin, we'll auto-select\r\n          the org URN; else we use your personal URN.\r\n        </p>\r\n\r\n        {/* Debug info */}\r\n        <div style={{ marginTop: 20, fontSize: 10, opacity: 0.5 }}>\r\n          Debug: Token exists: {!!token}, AppUser: {appUser}, LinkedIn: {status.linkedin.connected ? \"Connected\" : \"Not connected\"}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}